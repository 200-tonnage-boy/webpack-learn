AST demo

esprima,先转换到AST，然后利用深度优先遍历，遍历AST上的节点，此时可以修改AST节点，然后利用修改后的AST再生成新的代码；
访问者模式？？？？？？




























babel blog
- 这里我重点要说一下只会为目标浏览器中没有的功能加载转换插件这句话的意思.会影响打包体积吗？

- 为了实现这一点, Polyfill增加了全局范围以及像String这样的原生原型. 而@babel/polyfill模块包括了core-js和自定义regenerator runtime ，对于库/工具来说, 如果你不需要像Array.prototype.includes这样的实例方法, 可以使用transform runtime插件, 而不是使用污染全局的@babel/polyfill.
  - plugin和polyfill的区别，
    - Babel 只负责编译新标准引入的新语法，比如 Arrow function、Class、ES Module 等，它不会编译原生对象新引入的方法和 API，比如 Array.includes，Map，Set 等，这些需要通过 Polyfill 来解决，文章后面会提到。
  - polyfill会污染全局作用域？和transform runtime的区别；
  - ~~~JavaScript
  - const presets = [
	[
		"@babel/env",
		{
			targets: {
				edge: "17",
				chrome: "64",
				firefox: "67",
				safari: '11.1'
			},
+			useBuiltIns: "usage"// 如果我们没有将 env preset 的 "useBuiltIns" 选项的设置为 "usage" ，就必须在其他代码之前 require 一次完整的 polyfill。 这个字段是什么意思？
		}
	]
]

module.exports = { presets }

  - ~~~

- transform-runtime-plugin 是什么？
- 插件传参？
~~~JavaScript
{
    "plugins": [
        [
            "@babel/plugin-proposal-class-properties", 
            { "loose": true }
        ]
    ]
}

~~~
- core.js 和 polyfill的关系，runtime只是起到一个减小体积的作用吗？
  - core-js@3废弃了babel-polyfill，实现了完全无污染的API转译，非常有潜力，但是其暂时会增加打包体积，这个还得看未来普及度上来之后的权衡？？？？？
- 几种配置文件真的相同吗？
- helpers
- babel 语法插件
- babel-plugin-macros